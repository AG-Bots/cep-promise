!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?module.exports=r():"function"==typeof define&&define.amd?define(r):e.cep=r()}(this,function(){"use strict";function e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.message,o=e.type,t=e.errors;this.name="CepPromiseError",this.message=r,this.type=o,this.errors=t}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.message,o=e.service;this.name="ServiceError",this.message=r,this.service=o}function o(e){return new Promise(function(e,o){var t=new r({message:"O serviço dos Correios não aceita requests via Browser (CORS).",service:"correios"});o(t)})}function t(e){var r="https://viacep.com.br/ws/"+e+"/json/",o={method:"GET",mode:"cors",headers:{"content-type":"application/json;charset=utf-8"}};return b(r,o).then(n).then(s).then(i).catch(a)}function n(e){if(e.ok)return e.json();throw Error("Erro ao se conectar com o serviço ViaCEP.")}function s(e){if(e.erro===!0)throw new Error("CEP não encontrado na base do ViaCEP.");return e}function i(e){return{cep:e.cep.replace("-",""),state:e.uf,city:e.localidade,neighborhood:e.bairro,street:e.logradouro}}function a(e){var o=new r({message:e.message,service:"viacep"});throw"FetchError"===e.name&&(o.message="Erro ao se conectar com o serviço ViaCEP."),o}function c(e){return function(r){return e(r,P)}}function u(e){return Promise.resolve(e).then(f).then(p).then(h).then(m).then(d).catch(l).catch(v)}function f(r){var o="undefined"==typeof r?"undefined":x(r);if("number"===o||"string"===o)return r;throw new e({message:"Erro ao inicializar a instância do CepPromise.",type:"validation_error",errors:[{message:"Você deve chamar o construtor utilizando uma String ou um Number.",service:"cep_validation"}]})}function p(e){return e.toString().replace(/\D+/g,"")}function m(e){return"0".repeat(A-e.length)+e}function h(r){if(r.length<=A)return r;throw new e({message:"CEP deve conter exatamente "+A+" caracteres.",type:"validation_error",errors:[{message:"CEP informado possui mais do que "+A+" caracteres.",service:"cep_validation"}]})}function d(e){return Promise.any([E(e),C(e),S(e)])}function l(r){if(void 0!==r.length)throw new e({message:"Todos os serviços de CEP retornaram erro.",type:"service_error",errors:r});throw r}function v(r){var o=r.message,t=r.type,n=r.errors;throw new e({message:o,type:t,errors:n})}e.prototype=new Error,r.prototype=new Error;var y="function"==typeof fetch?fetch.bind():function(e,r){return r=r||{},new Promise(function(o,t){function n(){var e,r=[],o=[],t={};return s.getAllResponseHeaders().replace(/^(.*?):\s*([\s\S]*?)$/gm,function(n,s,i){r.push(s=s.toLowerCase()),o.push([s,i]),e=t[s],t[s]=e?e+","+i:i}),{ok:1==(s.status/200|0),status:s.status,statusText:s.statusText,url:s.responseURL,clone:n,text:function(){return Promise.resolve(s.responseText)},json:function(){return Promise.resolve(s.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([s.response]))},headers:{keys:function(){return r},entries:function(){return o},get:function(e){return t[e.toLowerCase()]},has:function(e){return e.toLowerCase()in t}}}}var s=new XMLHttpRequest;s.open(r.method||"get",e);for(var i in r.headers)s.setRequestHeader(i,r.headers[i]);s.withCredentials="include"==r.credentials,s.onload=function(){o(n())},s.onerror=t,s.send(r.body)})},w=Object.freeze({default:y}),g=w&&y||w,b=window.fetch||(window.fetch=g.default||g),P="https://cors-anywhere.herokuapp.com/",E="undefined"==typeof process?c(o):o,C="undefined"==typeof process?c(o):o,S=t,x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j=function(e){if(Array.isArray(e)){for(var r=0,o=Array(e.length);r<e.length;r++)o[r]=e[r];return o}return Array.from(e)},T=function(e){return new Promise(function(r,o){return Promise.resolve(e).then(o,r)})};Promise.any=function(e){return T(Promise.all([].concat(j(e)).map(T)))};var A=8;return u});